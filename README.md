# Инструкция по работе

## Используемые технологии

-   менеджер пакетов и внешних зависимостей - [npm](https://www.npmjs.com)
-   автоматические сборки - [Webpack](https://webpack.js.org/)
-   препроцессор CSS - [Sass](http://sass-lang.com)
-   шаблонизатор HTML - [Pug(ex-Jade)](https://pugjs.org/) - _для работы с Pug в PhpStorm и WebStorm необходимо обновить программы до последних версий, удалить плагин Jade, если он был установлен, и установить плагин Pug._

## Структура проекта

```
/
├── .git/
│   └── ...
├── dist/
│   └── ...
├── node_modules/
│   └── ...
├── src/
│   └── ...
├── .gitignore
├── webpack.config.js
├── package.json
└── README.md
```

В папке _src_ лежат все исходники проекта. Вся разработка ведется в этой папке. Она попадает в git.

В файле _webpack.config.js_ содержатся правила для сборки проекта из исходников _src_ в результат _dist_.

## Установка и сборка проекта

#### Установите внешние зависимости

```sh
$ npm install
```

#### Запустите сборщик

```sh
$ npm start
```

В результате создастся папка _dist_, в которой окажутся готовые для дальнейшего использования html-файлы.

## Общие принципы работы

```
├── src/
│   ├── fonts/
│   ├── i/
│   ├── images/
│   ├── js/
│   ├── pug/
│   └── scss/
```

Все новые файлы должны появляться исключительно в папке _src/_. Отсюда их забирает сборщик и по правилам описанным в _webpack.config.js_ формируется содержимое папки _dist/_.

Все шрифты попадают в папку _src/fonts/_ с любой структурой внутри.

Все контентные картинки попадают в папку _src/i/_ с любой структурой внутри. Картинки в этой папке не будут оптимизироваться сборщиком. Сюда следует сладывать все временные картинки, которых потом не будет на сайте.

Все картинки дизайна попадают в папку _src/images/_ с любой структурой внутри. Картинки в этой папке будут оптимизироваться сборщиком. Сюда следует складывать все постоянные картинки(логотипы, иконки, фоны и тд).

Все исходники html хранятся и редактируется в папке _src/pug/_. В корне этой папки лежат прототипы будущих html файлов. Все вложения должны попадать в папку _src/pug/components/_. При работе над конкретным клиентским проектом ненужные pug-файлы из корня _src/pug/_ необходимо удалить.

Весь js попадает в папку _src/js/_. Все внешние js-библиотеки необходимо устанавливать через npm и файл package.json https://docs.npmjs.com/files/package.json.

Все исходники css хранятся и редактируются в папке _src/scss/_.

npm run start команда для разработки локально. Страницу можно открыть в браузере по адресу http://localhost:3010, либо просто найти нужный файл в итоговой папке dist.
Для сборки production версии команда - npm run minify. Собирает файлы и кладет в dist папку.
Для проверки правильности js и scss файлов - команда npm run lint-prod
